/**
 * ðŸ”¬ Î¼eff (Effective Mobility) ê³„ì‚° ëª¨ë“ˆ
 * 
 * ðŸ“– ë¬¼ë¦¬ì  ì˜ë¯¸:
 * - ê²Œì´íŠ¸ ì „ì••ì´ ë†’ì•„ì§ì— ë”°ë¼ ë‹¤ì–‘í•œ ì‚°ëž€ ë©”ì»¤ë‹ˆì¦˜ìœ¼ë¡œ ì¸í•´ ë°œìƒí•˜ëŠ” ì´ë™ë„ ì €í•˜ë¥¼ ê³ ë ¤í•œ ì‹¤ì œ ì´ë™ë„
 * - ì‚°ëž€ ë©”ì»¤ë‹ˆì¦˜: í‘œë©´ ê±°ì¹ ê¸° ì‚°ëž€, ê³„ë©´ íŠ¸ëž©ìœ¼ë¡œ ì¸í•œ ì¿¨ë¡± ì‚°ëž€ ë“±
 * - ìž‘ë™ ì¤‘ì¸ ì†Œìžì—ì„œ ìºë¦¬ì–´ ì´ë™ë„ë¥¼ ë³´ë‹¤ í˜„ì‹¤ì ìœ¼ë¡œ ë‚˜íƒ€ëƒ„
 * 
 * ðŸ“ ì¸¡ì • ë°ì´í„°: IDVG-Linear
 * - Î¼0 (Y-functionìœ¼ë¡œ êµ¬í•œ ì €ì „ê³„ ì´ë™ë„) í•„ìš”
 * - Î¸ (mobility degradation factor) í•„ìš”
 * - íŠ¹ì • VG ì§€ì ì—ì„œì˜ ì‹¤ì œ ìœ íš¨ ì´ë™ë„ ê³„ì‚°
 * 
 * ðŸ§® ê³„ì‚° ìˆ˜ì‹: Î¼eff = Î¼0 / (1 + Î¸(VG - Vth))
 * - Î¼0: ì´ìƒì ì¸ ì €ì „ê³„ ì´ë™ë„ (ì‚°ëž€ ì—†ëŠ” ìƒíƒœ)
 * - Î¸: ì´ë™ë„ ì €í•˜ ê³„ìˆ˜ (Vâ»Â¹)
 * - VG: ë™ìž‘ ê²Œì´íŠ¸ ì „ì••
 * - Vth: ë¬¸í„± ì „ì••
 * 
 * ðŸ’¡ ë¬¼ë¦¬ì  í•´ì„:
 * - VGê°€ ì¦ê°€í• ìˆ˜ë¡ Î¼eff ê°ì†Œ (ë” ë§Žì€ ì‚°ëž€)
 * - Î¸ê°€ í´ìˆ˜ë¡ ì´ë™ë„ ì €í•˜ê°€ ì‹¬í•¨
 * - ì‹¤ì œ ë™ìž‘ ì¡°ê±´ì—ì„œì˜ ì„±ëŠ¥ ì˜ˆì¸¡ì— ì¤‘ìš”
 */

export const calculateMuEff = (mu0, theta, vg, vth) => {
  // ðŸ”’ ìž…ë ¥ê°’ ìœ íš¨ì„± ê²€ì‚¬
  if (!mu0 || !theta || vg <= vth) return 0;
  
  // ðŸ§® Î¼eff ê³„ì‚°: Î¼eff = Î¼0 / (1 + Î¸(VG - Vth))
  // 
  // ë¬¼ë¦¬ì  ì˜ë¯¸:
  // - (VG - Vth): ì‹¤ì œ ì±„ë„ì„ í˜•ì„±í•˜ëŠ” ìœ íš¨ ê²Œì´íŠ¸ ì „ì••
  // - Î¸(VG - Vth): ê²Œì´íŠ¸ ì „ì••ì— ì˜í•œ ì´ë™ë„ ì €í•˜ ì •ë„
  // - 1 + Î¸(VG - Vth): ì´ ì´ë™ë„ ì €í•˜ ì¸ìˆ˜
  // - Î¼0ë¥¼ ì´ ì¸ìˆ˜ë¡œ ë‚˜ëˆ„ë©´ ì‹¤ì œ ìœ íš¨ ì´ë™ë„
  return mu0 / (1 + theta * (vg - vth));
};